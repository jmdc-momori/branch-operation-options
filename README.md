# イシューの立て方とブランチの切り方の方針

開発を効率よく、かつ、安全に進めるために、イシューの立て方とブランチの切り方について方針を決める。

## ブランチの階層構造

### ブランチからさらにブランチを切る理由

1. 機能の分割: 大きな機能や改善を小さな単位に分割して作業するため。これにより、各タスクに集中しやすくなり、コードレビューが容易になります。
1. 依存関係の管理: 特定の機能が他の作業に依存している場合、依存する機能のブランチから新しいブランチを切ることで、依存関係を明確に管理できます。
1. チームの並行作業: 複数の開発者が同じ機能に関わる時、それぞれが独立して作業できるようにするため。

### 推奨される方法

- プロジェクトの規模とチームのワークフローに依存します。 小規模なプロジェクトやシンプルな変更であれば、main ブランチと作業ブランチの間でのマージを基本とするシンプルなワークフローが適しているかもしれません。
- 大規模な機能や複雑な改善については、機能をさらに細かいサブタスクに分割し、それぞれに対応するブランチを作成するアプローチが有効です。この方法では、各サブタスクに対する進捗を独立して管理し、レビューを効率的に行うことができます。

### GitHub のイシューに対するアプローチ

- イシューを分割する: 大きなイシューは、管理しやすいサイズのサブイシューに分割することが推奨されます。これにより、作業の進捗を具体的に追跡しやすくなります。
- 作業ブランチの選択:
  - 大きなイシューに対しては、元のイシューのブランチを作成し、その下にサブイシューに対応するブランチを作成する方法が良いでしょう。これにより、各サブタスクの作業が完了次第、元のイシューのブランチにマージしていき、最終的に全ての変更を main にマージする流れになります。
  - それぞれのサブイシューが独立しており、特定の順序で作業を行う必要がない場合は、サブイシューごとに直接 main からブランチを作成し、完了次第 main にマージする方法も考えられます。

### 結論

プロジェクトの要件、チームのサイズ、ワークフローの複雑さに基づいて最適なアプローチを選択することが重要です。大規模な改善や機能開発においては、作業を細分化し、小さな単位で進めることで、管理が容易になり、品質の高いコードレビューを実施できるようになります。

## イシューの階層構造

イシューの階層構造とブランチの階層構造を一致させるかどうかは、プロジェクトの管理方法やチームの好みによって異なります。しかし、以下の理由で階層構造を一致させることが推奨される場合があります。

### 階層構造を一致させる理由

1. 透明性の向上: イシューとブランチの階層が一致していると、どのブランチがどのイシューやタスクに対応しているかが明確になります。これにより、プロジェクトの状態を把握しやすくなり、新しいチームメンバーがプロジェクトに参加した際の学習曲線が緩和されます。
1. 追跡と管理の容易さ: イシューとブランチの関係が直感的に理解しやすくなるため、作業の進捗状況や依存関係の追跡が容易になります。特に、複数のサブイシューが関連している場合、その進捗を一元的に管理することができます。
1. マージプロセスの簡素化: 階層構造が一致していると、マージするべきブランチの順序が明確になり、マージのプロセスがスムーズになります。サブイシューに対応するブランチがすべてマージされた後、それらをまとめて親イシューのブランチにマージする流れが自然に決定されます。

### 柔軟性の保持

しかし、全てのプロジェクトでイシューの階層とブランチの階層を厳密に一致させる必要はありません。プロジェクトの規模が小さい場合や、タスクが独立していて互いに影響を与えない場合は、よりフラットなブランチ戦略を採用することで管理の複雑さを避けることができます。

### 結論

イシューとブランチの階層を一致させることは、プロジェクトの進捗管理と作業の追跡において明確性と効率性をもたらす可能性があります。ただし、プロジェクトの特性やチームのワークフローに合わせて、最適な方法を選択することが重要です。階層構造を一致させることで得られる利点を検討した上で、プロジェクトにとって最も合理的なアプローチを採用することをお勧めします。
